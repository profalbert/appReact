(window["webpackJsonpreact-kabzda-1"]=window["webpackJsonpreact-kabzda-1"]||[]).push([[4],{228:function(e,t,o){"use strict";o.d(t,"b",(function(){return m})),o.d(t,"a",(function(){return u})),o.d(t,"c",(function(){return f}));var a=o(232),r=o(0),n=o.n(r),s=o(229),l=o.n(s),i=o(111),c=function(e){var t=null;return t="onSubmit"===e.individerror?e.meta.error&&e.meta.submitFailed:e.meta.error&&e.meta.touched,n.a.createElement("div",{className:l.a.formControl+" "+(t?l.a.error:"")},n.a.createElement("div",null,e.children),t&&n.a.createElement("span",null,e.meta.error))},m=function(e){var t=e.input,o=(e.meta,e.child,e.element,Object(a.a)(e,["input","meta","child","element"]));return n.a.createElement(c,e,n.a.createElement("textarea",Object.assign({},t,o)))},u=function(e){var t=e.input,o=(e.meta,e.child,e.element,Object(a.a)(e,["input","meta","child","element"]));return n.a.createElement(c,e,n.a.createElement("input",Object.assign({},t,o)))},f=function(e,t,o,a,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7?arguments[7]:void 0;return n.a.createElement("div",null,n.a.createElement(i.a,Object.assign({validate:o,name:t,type:r,component:a,placeholder:e},s,{individerror:c})),l)}},229:function(e,t,o){e.exports={formControl:"FormControls_formControl__3IXMz",error:"FormControls_error__3E5dj",formSummaryError:"FormControls_formSummaryError__3P5bD",formSummaryErrorWrap:"FormControls_formSummaryErrorWrap__38Pki",formSummaryErrorLoginBlock:"FormControls_formSummaryErrorLoginBlock__1YgxW",formTitle:"FormControls_formTitle__3_-M5",formInput:"FormControls_formInput__2BV47",formMiniBlock:"FormControls_formMiniBlock__2YIh3",formMiniBlockCheckbox:"FormControls_formMiniBlockCheckbox__3uvHG",formCheckbox:"FormControls_formCheckbox__VxbrM",formButtonLogin:"FormControls_formButtonLogin__2Z-E2",captchaImg:"FormControls_captchaImg__r4E-Y",captchaInput:"FormControls_captchaInput__2gvhJ",formLogin:"FormControls_formLogin__KL1id",LoginWrapperGlobal:"FormControls_LoginWrapperGlobal__M4yOr",LoginH1:"FormControls_LoginH1__3uBaE",testAccountWrapper:"FormControls_testAccountWrapper__38leW",testAccountTitle:"FormControls_testAccountTitle__3B183",testAccountDescr:"FormControls_testAccountDescr__2rhWd",testAccountMiniBlock:"FormControls_testAccountMiniBlock__3ZYX2",testAccountMiniBlockWrap:"FormControls_testAccountMiniBlockWrap__1m69t"}},230:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n}));var a=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}},r=function(e){return e?void 0:"Field is required"},n=function(e){if(e)return e.replace(/\s/g,"")?void 0:"You entered only spaces"}},238:function(e,t,o){e.exports={content:"Profile_content__tKWPT",notFoundUser:"Profile_notFoundUser__2GZru",pCPreloaderBlock:"Profile_pCPreloaderBlock__2hzdp",pCPreloader:"Profile_pCPreloader__gMZDH"}},252:function(e,t,o){e.exports={postsBlock:"MyPosts_postsBlock__61rKU",posts:"MyPosts_posts__3g6Qi",formMyPosts:"MyPosts_formMyPosts__3I0Tz",formMyPostsField:"MyPosts_formMyPostsField__2fTdO",formMyPostsButton:"MyPosts_formMyPostsButton__1oSsF"}},253:function(e,t,o){e.exports={item:"Post_item__36nBg",itemMessage:"Post_itemMessage__NGknN",itemLikes:"Post_itemLikes__TWY18"}},254:function(e,t,o){e.exports=o.p+"static/media/postImg.2c383599.webp"},296:function(e,t,o){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__bRlmF",Contact:"ProfileInfo_Contact__HKjXw",ContactMain:"ProfileInfo_ContactMain__3w6ne",ContactLink:"ProfileInfo_ContactLink__3nMaE",file:"ProfileInfo_file__HNWgP",formButtonEdit:"ProfileInfo_formButtonEdit__CZKAC",formInfo:"ProfileInfo_formInfo__3AJpe",formInfoTitle:"ProfileInfo_formInfoTitle__2vJuw",profileForm:"ProfileInfo_profileForm__35S3y",profileMiniBlock:"ProfileInfo_profileMiniBlock__2YjzB",profileMiniBlockCheckbox:"ProfileInfo_profileMiniBlockCheckbox__1ZHQf",profileFormButtonSave:"ProfileInfo_profileFormButtonSave__3KkKV",pCPreloaderBlock:"ProfileInfo_pCPreloaderBlock__1eosr",pCPreloader:"ProfileInfo_pCPreloader__17HO3"}},297:function(e,t,o){e.exports={errorStatus:"ProfileStatusWithHooks_errorStatus__1Z21o",statusFromProps:"ProfileStatusWithHooks_statusFromProps__3EacN",statusFromState:"ProfileStatusWithHooks_statusFromState__1PzQ0",statusFromStateInput:"ProfileStatusWithHooks_statusFromStateInput__16Soi"}},301:function(e,t,o){"use strict";o.r(t);var a=o(56),r=o(57),n=o(60),s=o(58),l=o(61),i=o(0),c=o.n(i),m=o(238),u=o.n(m),f=o(252),p=o.n(f),d=o(253),_=o.n(d),h=o(254),E=o.n(h),b=function(e){return c.a.createElement("div",{className:_.a.item},c.a.createElement("img",{src:E.a,alt:"img"}),c.a.createElement("div",{className:_.a.itemMessage},e.message),c.a.createElement("div",null,c.a.createElement("span",{className:_.a.itemLikes},"likes:")," ",e.likesCount))},v=o(111),k=o(31),P=o(112),g=o(228),C=o(230),F=Object(C.a)(10),I=Object(P.a)({form:"ProfileAddPostNewForm",onSubmitSuccess:function(e,t){return t(Object(k.a)("ProfileAddPostNewForm"))}})((function(e){return c.a.createElement("form",{className:p.a.formMyPosts,onSubmit:e.handleSubmit},c.a.createElement("div",null,c.a.createElement(v.a,{name:"newPostText",className:p.a.formMyPostsField,component:g.b,validate:[C.b,F,C.c],placeholder:"Post message",individerror:"onSubmit",cols:"30",rows:"2"})),c.a.createElement("div",null,c.a.createElement("button",{className:p.a.formMyPostsButton},"Add post")))})),M=c.a.memo((function(e){var t=e.posts.map((function(e){return c.a.createElement(b,{key:e.id,message:e.message,likesCount:e.likesCount})}));return c.a.createElement("div",{className:p.a.postsBlock},c.a.createElement("h3",null,"My posts"),c.a.createElement(I,{onSubmit:function(t){t.newPostText&&e.addPost(t.newPostText)}}),c.a.createElement("div",{className:p.a.posts},t.reverse()))})),S=o(62),N=o(26),B={addPost:S.a},y=Object(N.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),B)(M),O=o(59),T=o(296),j=o.n(T),x=o(28),w=o(297),A=o.n(w),U=function(e){var t=Object(i.useState)(!1),o=Object(O.a)(t,2),a=o[0],r=o[1],n=Object(i.useState)(e.status),s=Object(O.a)(n,2),l=s[0],m=s[1],u=Object(i.useState)(null),f=Object(O.a)(u,2),p=f[0],d=f[1];Object(i.useEffect)((function(){m(e.status)}),[e.status]);var _=e.isOwner||+e.authorizedUserId===+e.match.params.userId;return c.a.createElement("div",null,a?c.a.createElement("div",{className:A.a.statusFromState},c.a.createElement("b",{className:A.a.statusFromStateTitle},"Status: "),_&&c.a.createElement("input",{className:A.a.statusFromStateInput,onChange:function(e){e.currentTarget.value.length<=301&&(m(e.currentTarget.value),d(null)),(301===e.currentTarget.value.length||e.currentTarget.value.length>301)&&d("Max Status length is 300 symbols")},autoFocus:!0,onBlur:function(t){t.currentTarget.value.length<=300&&(r(!1),e.updateStatus(l).catch((function(e){d(e)})))},value:l}),p&&c.a.createElement("div",{className:A.a.errorStatus},p)):c.a.createElement("div",{className:A.a.statusFromProps},c.a.createElement("span",{onDoubleClick:function(){_&&r(!0)}},e.status?'"'.concat(e.status,'"'):'"no information"')))},z=o(229),L=o.n(z),W=o(67),H=o.n(W),J=function(e){var t=Object.keys(e.profile.contacts).filter((function(t){return e.profile.contacts[t]&&t||!1})).map((function(t){return c.a.createElement(K,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}));return 0===t.length&&(t=!1),c.a.createElement("div",{className:j.a.formInfo},c.a.createElement("div",{className:j.a.formInfoTitle},c.a.createElement("b",null,"Full name: ")," ",e.profile.fullName),c.a.createElement("div",{className:j.a.formInfoTitle},c.a.createElement("b",null,"Loking for a job: ")," ",e.profile.lookingForAJob?"yes":"no"),e.profile.lookingForAJob&&c.a.createElement("div",{className:j.a.formInfoTitle},c.a.createElement("b",null,"My professional skills: ")," ",e.profile.lookingForAJobDescription),c.a.createElement("div",{className:j.a.formInfoTitle},c.a.createElement("b",null,"About me: ")," ",e.profile.aboutMe||"no information"),c.a.createElement("div",{className:j.a.formInfoTitle},c.a.createElement("b",{className:j.a.ContactMain},"Contacts: ")," ",t||"no information"),e.ownerExpression&&c.a.createElement("div",null,c.a.createElement("button",{className:j.a.formButtonEdit,onClick:e.goToEditMode},"Edit")))},D=Object(P.a)({form:"edit-profile"})((function(e){return c.a.createElement("form",{className:j.a.profileForm,onSubmit:e.handleSubmit},c.a.createElement("div",{className:j.a.profileMiniBlock},c.a.createElement("b",null,"Full name: "),Object(g.c)("Full name","fullName",[],g.a,"text")),c.a.createElement("div",{className:j.a.profileMiniBlock},c.a.createElement("b",null,"Loking for a job: "),c.a.createElement("div",{className:j.a.profileMiniBlockCheckbox},Object(g.c)("","lookingForAJob",[],g.a,"checkbox"))),c.a.createElement("div",{className:j.a.profileMiniBlock},c.a.createElement("b",null,"My professional skills: "),Object(g.c)("My professional skills","lookingForAJobDescription",[],g.b,"text")),c.a.createElement("div",{className:j.a.profileMiniBlock},c.a.createElement("b",null,"About me: "),Object(g.c)("About me","aboutMe",[],g.b,"text")),c.a.createElement("div",{className:j.a.profileMiniBlock},c.a.createElement("b",null,"Contacts: ")," ",Object.keys(e.profile.contacts).map((function(e){return c.a.createElement("div",{key:e,className:j.a.Contact},c.a.createElement("b",null,e,":")," ",Object(g.c)(e,"contacts."+e,[],g.a,"text"))}))),c.a.createElement("div",null,c.a.createElement("button",{className:j.a.profileFormButtonSave},"Save")),e.error&&c.a.createElement("div",{className:L.a.formSummaryErrorWrap},c.a.createElement("div",{className:L.a.formSummaryError},e.error)))})),K=function(e){var t=e.contactTitle,o=e.contactValue;return c.a.createElement("div",{className:j.a.Contact},c.a.createElement("b",null,t,": "),c.a.createElement("a",{className:j.a.ContactLink,target:"_blank",rel:"noopener noreferrer",href:o},o))},Y=function(e){var t=Object(i.useState)(!1),o=Object(O.a)(t,2),a=o[0],r=o[1],n=e.isOwner||+e.authorizedUserId===+e.match.params.userId;if(!e.profile)return c.a.createElement("div",{className:j.a.pCPreloaderBlock},c.a.createElement("div",{className:j.a.pCPreloader},c.a.createElement(x.a,null)));return c.a.createElement("div",null,c.a.createElement("div",{className:j.a.descriptionBlock},c.a.createElement("img",{src:null!==e.profile.photos.large?e.profile.photos.large:H.a,alt:"photos-user"}),n&&c.a.createElement("div",{className:j.a.file},c.a.createElement("input",{id:"inputFileImg",type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0],e.authorizedUserId)}}),c.a.createElement("label",{htmlFor:"inputFileImg"},"\u0421hange photo")),c.a.createElement(U,{status:e.status,isOwner:e.isOwner,authorizedUserId:e.authorizedUserId,match:e.match,updateStatus:e.updateStatus}),a?c.a.createElement(D,{profile:e.profile,initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))}}):c.a.createElement(J,{goToEditMode:function(){r(!0)},profile:e.profile,ownerExpression:n})))},Z=function(e){return c.a.createElement("div",{className:u.a.content},c.a.createElement(Y,{profile:e.profile,isOwner:e.isOwner,status:e.status,savePhoto:e.savePhoto,saveProfile:e.saveProfile,authorizedUserId:e.authorizedUserId,match:e.match,updateStatus:e.updateStatus}),(+e.match.params.userId===+e.authorizedUserId||!e.match.params.userId)&&c.a.createElement(y,null))},V=o(23),G=o(18),R=function(e){function t(){var e,o;Object(a.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(o=Object(n.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={isUserIdRedirect:!1,editMode:!1},o.activateEditMode=function(){o.setState({isUserIdRedirect:!0})},o}return Object(l.a)(t,e),Object(r.a)(t,[{key:"refreshProfile",value:function(){var e=this,t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.activateEditMode(),t&&(this.props.setUserProfileThunk(t).catch((function(t){e.setState({editMode:!0})})),this.props.getStatusThunk(t))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,o){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.state.isUserIdRedirect?c.a.createElement(V.a,{to:"/login"}):c.a.createElement(c.a.Fragment,null,this.props.isFetching?c.a.createElement("div",{className:u.a.pCPreloaderBlock},c.a.createElement("div",{className:u.a.pCPreloader},c.a.createElement(x.a,null))):this.state.editMode?c.a.createElement("div",{className:u.a.notFoundUser},"Sorry, but something went wrong..."):c.a.createElement(Z,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,authorizedUserId:this.props.authorizedUserId,profile:this.props.profile,status:this.props.status,savePhoto:this.props.savePhotoThunk,saveProfile:this.props.saveProfileThunk,updateStatus:this.props.updateStatusThunk})))}}]),t}(c.a.Component),Q={setUserProfileThunk:S.f,getStatusThunk:S.b,updateStatusThunk:S.g,savePhotoThunk:S.d,saveProfileThunk:S.e};t.default=Object(G.d)(V.g,Object(N.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching}}),Q))(R)}}]);
//# sourceMappingURL=4.6878ed4c.chunk.js.map