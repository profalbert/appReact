(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[4],{228:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return m})),r.d(t,"c",(function(){return f}));var o=r(230),a=r(0),n=r.n(a),s=r(229),i=r.n(s),l=r(111),c=function(e){var t=e.meta,r=e.individerror,o=e.children,a=null;return a="onSubmit"===r?t.error&&t.submitFailed:t.error&&t.touched,n.a.createElement("div",{className:i.a.formControl+" "+(a?i.a.error:"")},n.a.createElement("div",null,o),a&&n.a.createElement("span",null,t.error))},u=function(e){var t=e.input,r=(e.meta,Object(o.a)(e,["input","meta"]));return n.a.createElement(c,e,n.a.createElement("textarea",Object.assign({},t,r)))},m=function(e){var t=e.input,r=(e.meta,e.className,Object(o.a)(e,["input","meta","className"]));return n.a.createElement(c,e,n.a.createElement("input",Object.assign({},t,r)))},f=function(e,t,r,o,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return n.a.createElement("div",null,n.a.createElement(l.a,Object.assign({validate:r,name:t,type:a,component:o,placeholder:e},s)))}},229:function(e,t,r){e.exports={formControl:"FormControls_formControl__3IXMz",error:"FormControls_error__3E5dj",formSummaryError:"FormControls_formSummaryError__3P5bD",formSummaryErrorWrap:"FormControls_formSummaryErrorWrap__38Pki",formSummaryErrorLoginBlock:"FormControls_formSummaryErrorLoginBlock__1YgxW",formTitle:"FormControls_formTitle__3_-M5",formInput:"FormControls_formInput__2BV47",formMiniBlock:"FormControls_formMiniBlock__2YIh3",formMiniBlockCheckbox:"FormControls_formMiniBlockCheckbox__3uvHG",formCheckbox:"FormControls_formCheckbox__VxbrM",formButtonLogin:"FormControls_formButtonLogin__2Z-E2",captchaImg:"FormControls_captchaImg__r4E-Y",captchaInput:"FormControls_captchaInput__2gvhJ",formLogin:"FormControls_formLogin__KL1id",LoginWrapperGlobal:"FormControls_LoginWrapperGlobal__M4yOr",LoginH1:"FormControls_LoginH1__3uBaE",testAccountWrapper:"FormControls_testAccountWrapper__38leW",testAccountTitle:"FormControls_testAccountTitle__3B183",testAccountDescr:"FormControls_testAccountDescr__2rhWd",testAccountMiniBlock:"FormControls_testAccountMiniBlock__3ZYX2",testAccountMiniBlockWrap:"FormControls_testAccountMiniBlockWrap__1m69t",testAccountAttention:"FormControls_testAccountAttention__2wZP8"}},232:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n}));var o=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}},a=function(e){return e?void 0:"Field is required"},n=function(e){return e?e.replace(/\s/g,"")?void 0:"You entered only spaces":void 0}},234:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var o=r(62);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,a=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(l){a=!0,n=l}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return r}}(e,t)||Object(o.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},240:function(e,t,r){e.exports={content:"Profile_content__tKWPT",notFoundUser:"Profile_notFoundUser__2GZru",pCPreloaderBlock:"Profile_pCPreloaderBlock__2hzdp",pCPreloader:"Profile_pCPreloader__gMZDH"}},253:function(e,t,r){e.exports={postsBlock:"MyPosts_postsBlock__61rKU",posts:"MyPosts_posts__3g6Qi",formMyPosts:"MyPosts_formMyPosts__3I0Tz",formMyPostsField:"MyPosts_formMyPostsField__2fTdO",formMyPostsButton:"MyPosts_formMyPostsButton__1oSsF"}},254:function(e,t,r){e.exports={item:"Post_item__36nBg",itemMessage:"Post_itemMessage__NGknN",itemLikes:"Post_itemLikes__TWY18"}},255:function(e,t,r){e.exports=r.p+"static/media/postImg.2c383599.webp"},296:function(e,t,r){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__bRlmF",Contact:"ProfileInfo_Contact__HKjXw",ContactMain:"ProfileInfo_ContactMain__3w6ne",ContactLink:"ProfileInfo_ContactLink__3nMaE",file:"ProfileInfo_file__HNWgP",formButtonEdit:"ProfileInfo_formButtonEdit__CZKAC",formInfo:"ProfileInfo_formInfo__3AJpe",formInfoTitle:"ProfileInfo_formInfoTitle__2vJuw",profileForm:"ProfileInfo_profileForm__35S3y",profileMiniBlock:"ProfileInfo_profileMiniBlock__2YjzB",profileMiniBlockCheckbox:"ProfileInfo_profileMiniBlockCheckbox__1ZHQf",profileFormButtonSave:"ProfileInfo_profileFormButtonSave__3KkKV",pCPreloaderBlock:"ProfileInfo_pCPreloaderBlock__1eosr",pCPreloader:"ProfileInfo_pCPreloader__17HO3"}},297:function(e,t,r){e.exports={errorStatus:"ProfileStatusWithHooks_errorStatus__1Z21o",statusFromProps:"ProfileStatusWithHooks_statusFromProps__3EacN",statusFromState:"ProfileStatusWithHooks_statusFromState__1PzQ0",statusFromStateInput:"ProfileStatusWithHooks_statusFromStateInput__16Soi"}},301:function(e,t,r){"use strict";r.r(t);var o=r(57),a=r(58),n=r(60),s=r(59),i=r(0),l=r.n(i),c=r(240),u=r.n(c),m=r(253),f=r.n(m),p=r(254),d=r.n(p),_=r(255),h=r.n(_),b=function(e){return l.a.createElement("div",{className:d.a.item},l.a.createElement("img",{src:h.a,alt:"img"}),l.a.createElement("div",{className:d.a.itemMessage},e.message),l.a.createElement("div",null,l.a.createElement("span",{className:d.a.itemLikes},"likes:")," ",e.likesCount))},E=r(30),v=r(112),P=r(228),k=r(232),g=l.a.memo((function(e){var t=e.posts.map((function(e){return l.a.createElement(b,{key:e.id,message:e.message,likesCount:e.likesCount})}));return l.a.createElement("div",{className:f.a.postsBlock},l.a.createElement("h3",null,"My posts"),l.a.createElement(C,{onSubmit:function(t){t.newPostText&&e.addPost(t.newPostText)}}),l.a.createElement("div",{className:f.a.posts},t.reverse()))})),F=Object(k.a)(10),C=Object(v.a)({form:"ProfileAddPostNewForm",onSubmitSuccess:function(e,t){return t(Object(E.a)("ProfileAddPostNewForm"))}})((function(e){var t=e.handleSubmit;return l.a.createElement("form",{className:f.a.formMyPosts,onSubmit:t},l.a.createElement("div",null,Object(P.c)("Post message","newPostText",[k.b,F,k.c],P.b,"text",{individerror:"onSubmit",className:f.a.formMyPostsField,cols:"30",rows:"2"})),l.a.createElement("div",null,l.a.createElement("button",{className:f.a.formMyPostsButton},"Add post")))})),I=g,S=r(61),M=r(25),y={addPost:S.b.addPostActionCreator},N=Object(M.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),y)(I),B=r(3),O=r(234),j=r(296),T=r.n(j),w=r(28),x=r(230),A=r(297),U=r.n(A),z=function(e){var t,r=e.isOwner,o=e.statusFromProps,a=e.updateStatus,n=e.authorizedUserId,s=Object(x.a)(e,["isOwner","statusFromProps","updateStatus","authorizedUserId"]),c=Object(i.useState)(!1),u=Object(O.a)(c,2),m=u[0],f=u[1],p=Object(i.useState)(o),d=Object(O.a)(p,2),_=d[0],h=d[1],b=Object(i.useState)(null),E=Object(O.a)(b,2),v=E[0],P=E[1];Object(i.useEffect)((function(){h(o)}),[o]),t=null!==n&&+n===+s.match.params.userId;var k=r||t;return l.a.createElement("div",null,m?l.a.createElement("div",{className:U.a.statusFromState},l.a.createElement("b",{className:U.a.statusFromStateTitle},"Status: "),k&&l.a.createElement("input",{className:U.a.statusFromStateInput,onChange:function(e){e.currentTarget.value.length<=301&&(h(e.currentTarget.value),P(null)),(301===e.currentTarget.value.length||e.currentTarget.value.length>301)&&P("Max Status length is 300 symbols")},autoFocus:!0,onBlur:function(e){e.currentTarget.value.length<=300&&(f(!1),new Promise((function(){return a(_)})).catch((function(e){P(e)})))},value:_||""}),v&&l.a.createElement("div",{className:U.a.errorStatus},v)):l.a.createElement("div",{className:U.a.statusFromProps},l.a.createElement("span",{onDoubleClick:function(){k&&f(!0)}},o?'"'.concat(o,'"'):'"no information"')))},L=r(229),W=r.n(L),H=r(67),J=r.n(H),D=function(e){var t=e.isOwner,r=e.authorizedUserId,o=e.match,a=e.profile,n=e.saveProfile,s=e.savePhoto,c=e.status,u=e.updateStatus,m=Object(i.useState)(!1),f=Object(O.a)(m,2),p=f[0],d=f[1],_=t||Number(r)===Number(o.params.userId);if(!a)return l.a.createElement("div",{className:T.a.pCPreloaderBlock},l.a.createElement("div",{className:T.a.pCPreloader},l.a.createElement(w.a,null)));return l.a.createElement("div",null,l.a.createElement("div",{className:T.a.descriptionBlock},l.a.createElement("img",{src:null!==a.photos.large?a.photos.large:J.a,alt:"photos-user"}),_&&l.a.createElement("div",{className:T.a.file},l.a.createElement("input",{id:"inputFileImg",type:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&r&&s(e.target.files[0],r)}}),l.a.createElement("label",{htmlFor:"inputFileImg"},"\u0421hange photo")),l.a.createElement(z,{statusFromProps:c,isOwner:t,authorizedUserId:r,match:o,updateStatus:u}),p?l.a.createElement(Z,{profile:a,initialValues:a,onSubmit:function(e){new Promise((function(){return n(Object(B.a)(Object(B.a)({},a),e))})).then((function(){d(!1)}))}}):l.a.createElement(K,{goToEditMode:function(){d(!0)},profile:a,ownerExpression:_})))},Z=Object(v.a)({form:"edit-profile"})((function(e){var t=e.profile,r=e.error,o=e.handleSubmit;return l.a.createElement("form",{className:T.a.profileForm,onSubmit:o},l.a.createElement("div",{className:T.a.profileMiniBlock},l.a.createElement("b",null,"Full name: "),Object(P.c)("Full name","fullName",[],P.a,"text",{})),l.a.createElement("div",{className:T.a.profileMiniBlock},l.a.createElement("b",null,"Loking for a job: "),l.a.createElement("div",{className:T.a.profileMiniBlockCheckbox},Object(P.c)("","lookingForAJob",[],P.a,"checkbox",{}))),l.a.createElement("div",{className:T.a.profileMiniBlock},l.a.createElement("b",null,"My professional skills: "),Object(P.c)("My professional skills","lookingForAJobDescription",[],P.b,"text",{})),l.a.createElement("div",{className:T.a.profileMiniBlock},l.a.createElement("b",null,"About me: "),Object(P.c)("About me","aboutMe",[],P.b,"text",{})),l.a.createElement("div",{className:T.a.profileMiniBlock},l.a.createElement("b",null,"Contacts: ")," ",t&&Object.keys(t.contacts).map((function(e){return l.a.createElement("div",{key:e,className:T.a.Contact},l.a.createElement("b",null,e,":")," "," ",Object(P.c)(e,"contacts.".concat(e),[],P.a,"text",{}))}))),l.a.createElement("div",null,l.a.createElement("button",{className:T.a.profileFormButtonSave},"Save")),r&&l.a.createElement("div",{className:W.a.formSummaryErrorWrap},l.a.createElement("div",{className:W.a.formSummaryError},r)))})),K=function(e){var t=e.profile,r=e.ownerExpression,o=e.goToEditMode,a="no information";return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement("div",{className:T.a.formInfo},l.a.createElement("div",{className:T.a.formInfoTitle},l.a.createElement("b",null,"Full name: ")," ",t.fullName),l.a.createElement("div",{className:T.a.formInfoTitle},l.a.createElement("b",null,"Loking for a job: ")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&l.a.createElement("div",{className:T.a.formInfoTitle},l.a.createElement("b",null,"My professional skills: ")," ",t.lookingForAJobDescription),l.a.createElement("div",{className:T.a.formInfoTitle},l.a.createElement("b",null,"About me: ")," ",t.aboutMe||a),l.a.createElement("div",{className:T.a.formInfoTitle},l.a.createElement("b",{className:T.a.ContactMain},"Contacts: "),t&&Object.keys(t.contacts).filter((function(e){return t.contacts[e]||!1})).length>0?Object.keys(t.contacts).filter((function(e){return t.contacts[e]||!1})).map((function(e){return l.a.createElement(Y,{key:e,contactTitle:e,contactValue:t.contacts[e]})})):a),r&&l.a.createElement("div",null,l.a.createElement("button",{className:T.a.formButtonEdit,onClick:o},"Edit"))))},Y=function(e){var t=e.contactTitle,r=e.contactValue;return l.a.createElement("div",{className:T.a.Contact},l.a.createElement("b",null,t,": "),l.a.createElement("a",{className:T.a.ContactLink,target:"_blank",rel:"noopener noreferrer",href:r},r))},V=function(e){return l.a.createElement("div",{className:u.a.content},l.a.createElement(D,{profile:e.profile,isOwner:e.isOwner,status:e.status,authorizedUserId:e.authorizedUserId,savePhoto:e.savePhoto,saveProfile:e.saveProfile,updateStatus:e.updateStatus,match:e.match}),(Number(e.match.params.userId)===Number(e.authorizedUserId)||!e.match.params.userId)&&l.a.createElement(N,null))},G=r(8),R=r(19),Q=r(18),X=function(e){Object(n.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isUserIdRedirect:!1,editMode:!1},e.activateEditMode=function(){e.setState({isUserIdRedirect:!0})},e}return Object(a.a)(r,[{key:"refreshProfile",value:function(){var e=this,t=Number(this.props.match.params.userId);t||(this.props.authorizedUserId&&(t=this.props.authorizedUserId),t||this.activateEditMode()),t&&(new Promise((function(){return e.props.setUserProfileThunk(t)})).catch((function(){e.setState({editMode:!0})})),this.props.getStatusThunk(t),this.props.authorizedUserId&&this.props.setPhotosMeThunk(this.props.authorizedUserId))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,r){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.state.isUserIdRedirect?l.a.createElement(G.a,{to:"/login"}):l.a.createElement(l.a.Fragment,null,this.props.isFetching?l.a.createElement("div",{className:u.a.pCPreloaderBlock},l.a.createElement("div",{className:u.a.pCPreloader},l.a.createElement(w.a,null))):this.state.editMode?l.a.createElement("div",{className:u.a.notFoundUser},"Sorry, but something went wrong..."):l.a.createElement(V,{isOwner:!this.props.match.params.userId,authorizedUserId:this.props.authorizedUserId,profile:this.props.profile,status:this.props.status,savePhoto:this.props.savePhotoThunk,saveProfile:this.props.saveProfileThunk,updateStatus:this.props.updateStatusThunk,match:this.props.match}))}}]),r}(l.a.Component),q={setUserProfileThunk:S.f,getStatusThunk:S.a,updateStatusThunk:S.g,savePhotoThunk:S.d,saveProfileThunk:S.e,setPhotosMeThunk:R.e};t.default=Object(Q.d)(G.g,Object(M.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching}}),q))(X)}}]);
//# sourceMappingURL=4.7e31c148.chunk.js.map