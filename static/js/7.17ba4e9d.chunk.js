(window["webpackJsonpreact-kabzda-1"]=window["webpackJsonpreact-kabzda-1"]||[]).push([[7],{298:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__2oU5Y",pogination:"Paginator_pogination__oF_EG",pageNumber:"Paginator_pageNumber__29o1y",poginatorButton:"Paginator_poginatorButton__37JXT"}},299:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var s=o.apply(null,r);s&&e.push(s)}else if("object"===a)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},302:function(e,t,n){"use strict";n.r(t);var r=n(57),o=n(58),a=n(61),s=n(59),u=n(62),l=n(0),i=n.n(l),c=n(12),p=n(60),f=n(298),g=n.n(f),h=n(299),d=n.n(h),m=function(e){for(var t=e.totalUsersCount,n=e.pageSize,r=e.currentPage,o=e.onPageChanged,a=e.portionSize,s=void 0===a?10:a,u=Math.ceil(t/n),f=[],h=1;h<=u;h++)f.push(h);var m=Math.ceil(u/s),P=Object(l.useState)(1),v=Object(p.a)(P,2),w=v[0],b=v[1],E=(w-1)*s+1,y=w*s;return Object(l.useEffect)((function(){b(Math.ceil(r/s))}),[r,s]),i.a.createElement("div",{className:d()(g.a.pogination)},w>1&&i.a.createElement("button",{className:g.a.poginatorButton,onClick:function(){b(w-1)}},"PREV"),f.filter((function(e){return e>=E&&e<=y})).map((function(e){return i.a.createElement("span",{className:d()(Object(c.a)({},g.a.selectedPage,r===e),g.a.pageNumber),key:e,onClick:function(){o(e)}},e)})),m>w&&i.a.createElement("button",{className:g.a.poginatorButton,onClick:function(){b(w+1)}},"NEXT"))},P=n(51),v=n.n(P),w=n(68),b=n.n(w),E=n(7),y=function(e){var t=e.user;return i.a.createElement("div",{className:v.a.User},i.a.createElement("div",{className:v.a.UserImg},i.a.createElement(E.b,{to:"/profile/"+t.id},i.a.createElement("img",{className:v.a.userPhoto,src:null!=t.photos.small?t.photos.small:b.a,alt:"icon"}))),i.a.createElement("div",{className:v.a.UserInfo},i.a.createElement("div",{className:v.a.UserName},t.name),i.a.createElement("div",{className:v.a.UserStatus},t.status?'"'.concat(t.status,'"'):'"'.concat("no information",'"')),i.a.createElement("div",{className:v.a.UserFollow},e.authorizedUserId!==t.id?t.followed?i.a.createElement("button",{className:v.a.UserFollowUnfol,disabled:!e.isAuth||e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow"):i.a.createElement("button",{className:v.a.UserFollowFol,disabled:!e.isAuth||e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow"):i.a.createElement("div",null,"(It's you!)"))))},U=n(28),N=function(e){return i.a.createElement("div",{className:v.a.usersWrapper},i.a.createElement(m,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),e.isFetching?i.a.createElement("div",{className:v.a.usersPreloaderBlock},i.a.createElement("div",{className:v.a.usersPreloader},i.a.createElement(U.a,null))):e.users.map((function(t){return i.a.createElement(y,{user:t,follow:e.follow,unfollow:e.unfollow,isAuth:e.isAuth,authorizedUserId:e.authorizedUserId,followingInProgress:e.followingInProgress,key:t.id})})))},C=n(26),z=n(30);function I(e,t){return e===t}function F(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function A(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var j=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),u=A(r),l=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),i=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return l.apply(null,e)}));return i.resultFunc=s,i.dependencies=u,i.recomputations=function(){return a},i.resetRecomputations=function(){return a=0},i}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=null,r=null;return function(){return F(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var k=j((function(e){return function(e){return e.usersPage.users}(e)}),(function(e){return e.filter((function(){return!0}))})),S=function(e){return e.usersPage.pageSize},_=function(e){return e.usersPage.totalUsersCount},O=function(e){return e.usersPage.currentPage},x=function(e){return e.usersPage.isFetching},B=function(e){return e.usersPage.followingInProgress},M=function(e){return e.auth.isAuth},q=n(18),J=function(e){function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return(n=Object(a.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(u)))).onPageChanged=function(e){n.props.requestUsers(e,n.props.pageSize,!0)},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize,!0)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(N,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,isAuth:this.props.isAuth,isFetching:this.props.isFetching,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,authorizedUserId:this.props.authorizedUserId,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress}))}}]),t}(i.a.Component),R={follow:z.a,unfollow:z.f,setCurrentPage:z.c,toggleFollowingProgress:z.d,requestUsers:z.b},T=Object(q.d)(Object(C.b)((function(e){return{users:k(e),pageSize:S(e),totalUsersCount:_(e),currentPage:O(e),isFetching:x(e),isAuth:M(e),followingInProgress:B(e),authorizedUserId:e.auth.userId}}),R))(J);t.default=T}}]);
//# sourceMappingURL=7.17ba4e9d.chunk.js.map